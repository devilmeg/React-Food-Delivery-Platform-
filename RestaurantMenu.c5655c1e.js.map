{"mappings":"A,S,E,C,C,C,C,C,C,C,E,O,c,C,E,E,C,I,E,I,E,W,C,E,a,C,C,E,C,I,E,A,W,iB,C,E,E,Q,C,E,Q,S,C,C,C,E,O,c,C,E,O,C,a,C,M,C,E,a,C,C,G,E,E,O,C,U,I,G,I,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,E,SC+EA,EAvEuB,KACrB,GAAM,CAAA,MAAE,CAAK,CAAE,CAAG,AAAA,CAAA,EAAA,EAAA,SAAQ,AAAR,IACZ,EAAU,AAAA,CAAA,EAAA,EAAA,OAAgB,AAAhB,EAAkB,GAG5B,CAAC,EAAW,EAAa,CAAG,AAAA,CAAA,EAAA,EAAA,QAAO,AAAP,EAAS,MAE3C,GAAI,AAAY,OAAZ,EAAkB,MAAO,AAAA,CAAA,EAAA,EAAA,GAAA,AAAA,EAAC,EAAA,OAAM,CAApC,CAAA,GAQA,GAAM,CAAA,KAAE,CAAI,CAAA,SAAE,CAAQ,CAAA,UAAE,CAAS,CAAA,kBAAE,CAAiB,CAAE,CAJpD,GAAS,MAAM,KAAK,AAAC,GAAM,GAAG,MAAM,MAAM,OAAO,MAAM,MAAM,MAAQ,CAAC,EAOlE,EACJ,GAAS,OACL,KAAK,AAAC,GAAM,EAAE,WAAW,GACzB,aAAa,cAAc,SAAS,MAAM,OAC1C,AAAC,GACC,EAAE,IAAI,EAAE,MAAM,CAAC,QAAQ,GACvB,iEACC,EAAE,CAEX,MACE,AAAA,CAAA,EAAA,EAAA,IAAA,AAAA,EAAC,MADH,CACO,UAAU,0C,S,CAEb,AAAA,CAAA,EAAA,EAAA,IAAA,AAAA,EAAC,MAAD,CAAK,UAAU,4F,S,CACb,AAAA,CAAA,EAAA,EAAA,GAAA,AAAA,EAAC,KAAD,CAAI,UAAU,kEACX,SAAA,C,GAEH,AAAA,CAAA,EAAA,EAAA,GAAA,AAAA,EAAC,IAAD,CAAG,UAAU,0CACV,SAAA,EAAW,EAAS,IAAI,CAAC,MAAQ,wB,GAEpC,AAAA,CAAA,EAAA,EAAA,IAAA,AAAA,EAAC,MAAD,CAAK,UAAU,8D,S,CACb,AAAA,CAAA,EAAA,EAAA,IAAA,AAAA,EAAC,OAAD,CACE,UAAW,CAAC,wDAAwD,EAClE,GAAa,EAAI,eAAiB,gBAAA,CAClC,C,S,CACH,KACI,GAAa,M,A,GAElB,AAAA,CAAA,EAAA,EAAA,GAAA,AAAA,EAAC,OAAD,CAAM,UAAU,4BAA6B,SAAA,C,G,A,G,A,GAKjD,AAAA,CAAA,EAAA,EAAA,IAAA,AAAA,EAAC,MAAD,CAAK,UAAU,8B,S,CACb,AAAA,CAAA,EAAA,EAAA,GAAA,AAAA,EAAC,KAAD,CAAI,UAAU,sFAAsF,SAAA,M,GAKnG,EAAe,GAAG,CAAC,CAAC,EAAU,IAC7B,AAAA,CAAA,EAAA,EAAA,GAAA,AAAA,EAAC,EAAA,OAAiB,CADnB,CAGG,SAAU,EACV,OAAQ,IAAc,EACtB,SAAU,KACR,EAAa,IAAc,EAAQ,KAAO,EAC5C,CALK,EAAA,EAAS,IAAI,CAAC,IAAI,CAAC,KAAK,G,A,G,A,EAWzC,C,G,E,Q,S,C,C,C,E,E,E,O,C,U,I,G,I,E,E,S,E,E,SCpDA,EAtBwB,AAAC,IAErB,GAAM,CAAC,EAAQ,EAAW,CAAC,AAAA,CAAA,EAAA,EAAA,QAAO,AAAP,EAAS,MAEpC,AAAA,CAAA,EAAA,EAAA,SAAQ,AAAR,EAAU,KACN,GACJ,EAAE,EAAE,EAEJ,IAAM,EAAU,UACb,GAAG,CACD,IAAM,EAAK,MAAM,MAAM,AAAA,EAAA,QAAO,CAAE,EAAM,sCAElC,EAAK,MAAM,EAAK,IAAI,GAC1B,QAAQ,GAAG,CAAC,GACV,EAAW,EAAK,IAAI,CACtB,CAAC,MAAM,EAAM,CACZ,QAAQ,GAAG,CAAC,uCAAwC,EACrD,CAEH,EACA,OAAO,CACX,C,G,E,Q,S,C,C,C,E,E,E,O,C,U,I,G,I,E,E,S,E,E,SCcA,EApC2B,CAAC,CAAA,SAAE,CAAQ,CAAA,OAAE,CAAM,CAAA,SAAE,CAAQ,CAAE,GAEtD,AAAA,CAAA,EAAA,EAAA,IAAA,AAAA,EAAC,MADH,CAGI,UAAU,2H,S,CAIV,AAAA,CAAA,EAAA,EAAA,IAAA,AAAA,EAAC,MAAD,CACE,UAAU,qLAGV,QAAS,E,S,CAET,AAAA,CAAA,EAAA,EAAA,IAAA,AAAA,EAAC,KAAD,CAAI,UAAU,2D,S,CACX,EAAS,IAAI,CAAC,IAAI,CAAC,KAAK,CAAE,IAC3B,AAAA,CAAA,EAAA,EAAA,IAAA,AAAA,EAAC,OAAD,CAAM,UAAU,4B,S,CAA4B,IACxC,EAAS,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,QAAU,EAAE,I,A,G,A,GAIhD,AAAA,CAAA,EAAA,EAAA,GAAA,AAAA,EAAC,OAAD,CACE,UAAW,CAAC,8DAA8D,EACxE,EAAS,6BAA+B,gBAAA,CACxC,CACH,SAAA,G,G,A,GAMH,AAAA,CAAA,EAAA,EAAA,GAAA,AAAA,EAAC,EAAA,OAAO,CAAR,CAAU,SAAU,EAAU,OAAQ,C,G,AA5BjC,EAAA,EAAS,IAAI,CAAC,IAAI,CAAC,KAAK,C,G,E,Q,S,C,C,C,E,E,E,O,C,U,I,G,I,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,E,SC4JnC,EAzJiB,CAAC,CAAA,SAAE,CAAQ,CAAA,OAAE,CAAM,CAAE,IACpC,IAAM,EAAW,AAAA,CAAA,EAAA,EAAA,WAAU,AAAV,IACX,CAAA,OAAE,CAAM,CAAE,CAAG,AAAA,CAAA,EAAA,EAAA,UAAS,AAAT,EAAW,EAAA,OAAc,EACtC,CAAC,EAAe,EAAiB,CAAG,AAAA,CAAA,EAAA,EAAA,QAAO,AAAP,EAAS,CAAC,GAMpD,AAAA,CAAA,EAAA,EAAA,SAAQ,AAAR,EAAU,MA0BR,AAzBA,iBACE,IAAM,EAAW,KAAK,KAAK,CAAC,AAAgB,GAAhB,KAAK,MAAM,IAAW,GAI9C,EAAe,EACf,CAAA,EAAO,GAAG,EAAI,EAAO,GAAG,EAQ1B,CAAA,EAAe,KAAK,IAAI,CAAC,AAPR,AAAA,CAAA,EAAA,EAAA,iBAAgB,AAAhB,EACf,EAAO,GAAG,CACV,EAAO,GAAG,CAPQ,QACA,QAUH,GACgC,GAAjD,EAGF,GAAM,CAAA,eAAE,CAAc,CAAA,YAAE,CAAW,CAAE,CAAG,MAAM,AAAA,CAAA,EAAA,EAAA,qBAAoB,AAApB,EAC5C,EACA,GAGF,EAAiB,CAAE,eAAA,EAAgB,YAAA,EAAa,aAAA,CAAa,EAC/D,GAGF,EAAG,CAAC,EAAO,EAGX,IAAM,EACJ,GAAU,MAAM,MAAM,WACtB,GAAU,MAAM,WAChB,GAAU,WACV,EAAE,CAEJ,MACE,AAAA,CAAA,EAAA,EAAA,GAAA,AAAA,EAAC,MADH,CAEI,UAAW,CAAC,wDAAwD,EAClE,EAAS,6BAA+B,oBAAA,CACxC,CAEF,SAAA,AAAA,CAAA,EAAA,EAAA,GAAA,AAAA,EAAC,KAAD,CAAI,UAAU,mCACX,SAAA,EAAM,GAAG,CAAC,CAAC,EAAM,KAChB,GAAM,CAAA,KACJ,CAAI,CAAA,YACJ,CAAW,CAAA,MACX,CAAK,CAAA,aACL,CAAY,CAAA,kBACZ,CAAiB,CAAA,QACjB,CAAO,CACR,CAAG,EAAK,IAAI,EAAE,MAAQ,EAEjB,EACJ,GAAqB,EACjB,AAAA,EAAA,OAAM,CAAK,CAAA,GAAqB,CAAA,EAChC,KAEA,EAAY,EAAc,cAAc,EAAI,GAElD,MACE,AAAA,CAAA,EAAA,EAAA,IAAA,AAAA,EAAC,KADH,CAGI,UAAU,6I,S,CAGV,AAAA,CAAA,EAAA,EAAA,IAAA,AAAA,EAAC,MAAD,CAAK,UAAU,0B,S,CACb,AAAA,CAAA,EAAA,EAAA,IAAA,AAAA,EAAC,MAAD,CAAK,UAAU,oC,S,CACb,AAAA,CAAA,EAAA,EAAA,GAAA,AAAA,EAAC,OAAD,CAAM,UAAU,sDACb,SAAA,C,GAEH,AAAA,CAAA,EAAA,EAAA,IAAA,AAAA,EAAC,OAAD,CAAM,UAAU,oC,S,CAAoC,IAChD,EAAQ,KAAO,EAAe,I,A,G,A,GAInC,GACC,AAAA,CAAA,EAAA,EAAA,GAAA,AAAA,EAAC,IADF,CACI,UAAU,0DACV,SAAA,C,GAKL,AAAA,CAAA,EAAA,EAAA,IAAA,AAAA,EAAC,MAAD,CAAK,UAAU,+B,S,CACb,AAAA,CAAA,EAAA,EAAA,GAAA,AAAA,EAAC,OAAD,CAAM,UAAU,sCAAsC,SAAA,qB,GAGtD,AAAA,CAAA,EAAA,EAAA,IAAA,AAAA,EAAC,OAAD,CACE,UAAW,CAAC,UAAU,EACpB,EAAY,GACR,iBACA,EAAY,GACZ,kBACA,eAAA,CACJ,C,S,CAED,EAAU,I,A,G,A,GAIf,AAAA,CAAA,EAAA,EAAA,GAAA,AAAA,EAAC,MAAD,CAAK,UAAU,2DACb,SAAA,AAAA,CAAA,EAAA,EAAA,GAAA,AAAA,EAAC,MAAD,CACE,UAAW,CAAC,mCAAmC,EAC7C,EAAY,GACR,eACA,EAAY,GACZ,gBACA,aAAA,CACJ,CACF,MAAO,CAAE,MAAO,CAAA,EAAG,EAAU,CAAC,CAAC,AAAC,C,E,G,A,GAKtC,AAAA,CAAA,EAAA,EAAA,IAAA,AAAA,EAAC,MAAD,CAAK,UAAU,iD,S,CACZ,GACC,AAAA,CAAA,EAAA,EAAA,GAAA,AAAA,EAAC,MADF,CAEG,IAAK,EACL,IAAK,EACL,UAAU,6C,GAKd,AAAA,CAAA,EAAA,EAAA,IAAA,AAAA,EAAC,MAAD,CAAK,UAAU,0B,S,CACb,AAAA,CAAA,EAAA,EAAA,GAAA,AAAA,EAAC,SAAD,CACE,QAAS,KAjIzB,EAAS,AAAA,CAAA,EAAA,EAAA,OAAM,AAAN,EAAQ,AAiI4B,EAjIvB,IAAI,EAAE,MAiIiB,KAC7B,UAAU,mFACX,SAAA,G,GAGD,AAAA,CAAA,EAAA,EAAA,GAAA,AAAA,EAAC,SAAD,CAAQ,UAAU,+EAA+E,SAAA,G,G,A,G,A,G,AArEhG,EAAA,CAAA,EAAG,EAAK,IAAI,EAAE,MAAM,IAAM,EAAM,CAAC,EAAE,EAAA,CAAO,CA4ErD,E,E,EAIR,C,G,E,Q,S,C,C,C,EC1JO,eAAe,IACpB,IAAM,EAAc,GAAK,KAAK,KAAK,CAAC,AAAgB,GAAhB,KAAK,MAAM,IAE/C,OADA,QAAQ,GAAG,CAAC,CAAC,yCAA2B,EAAE,EAAY,KAAE,CAAC,EAClD,CACT,CAsBO,eAAe,EAAsB,CAAQ,CAAE,CAAY,EAChE,IAjBI,EAiBE,EAAc,MAAM,IACpB,GAfN,EAHgB,IAEH,AAAW,GAgBuB,EAflC,AAAe,GAe6B,EAbrD,AAamE,EAbrD,IAAM,AAa+C,GAbhC,GAAI,GAAa,EAC/C,AAY8D,EAZhD,IAAI,CAAA,GAAa,EAAnC,EAEL,EAAY,KAAK,GAAG,CAAC,EAAG,KAAK,GAAG,CAAC,IAAK,KAAK,KAAK,CAAC,MAYjD,MAAO,CAAE,SAAA,EAAU,aAAA,EAAc,YAAA,EAAa,eAAA,CAAe,CAC/D,C,E,E,O,C,wB,I,E","sources":["<anon>","src/components/RestaurantMenu.js","src/utils/useRestaurantMenu.js","src/components/RestaurantCategory.js","src/components/ItemList.js","src/utils/freshnessScore.js"],"sourcesContent":["\nfunction $parcel$defineInteropFlag(a) {\n  Object.defineProperty(a, '__esModule', {value: true, configurable: true});\n}\n\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n      var $parcel$global = globalThis;\n    var parcelRequire = $parcel$global[\"parcelRequirede46\"];\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"jyChZ\", function(module, exports) {\n\n$parcel$defineInteropFlag(module.exports);\n\n$parcel$export(module.exports, \"default\", () => $e3cee4b957dfd0d2$export$2e2bcd8739ae039);\n//new Optimized Dynamic code is below\n\nvar $ayMG0 = parcelRequire(\"ayMG0\");\n\nvar $acw62 = parcelRequire(\"acw62\");\n\nvar $YVclQ = parcelRequire(\"YVclQ\");\n\n\nvar $aphAM = parcelRequire(\"aphAM\");\n\nvar $b25rQ = parcelRequire(\"b25rQ\");\n\nvar $7lrwW = parcelRequire(\"7lrwW\");\nconst $e3cee4b957dfd0d2$var$RestaurantMenu = ()=>{\n    const { resId: resId } = (0, $aphAM.useParams)();\n    const resInfo = (0, $b25rQ.default)(resId);\n    // ‚úÖ Track which category is open\n    const [openIndex, setOpenIndex] = (0, $acw62.useState)(null);\n    if (resInfo === null) return /*#__PURE__*/ (0, $ayMG0.jsx)((0, $YVclQ.default), {});\n    // ‚úÖ Optimized way to get restaurant info\n    const restaurantInfo = resInfo?.cards.find((c)=>c?.card?.card?.info)?.card?.card?.info || {};\n    // const category=resInfo?.cards.find((c) => c?.card?.card?.info)?.card?.card?.info.filter((c) => c?.card?.card?.[\"@type\"]===\"type.googleapis.com/swiggy.presentation.food.v2.ItemCategory\")||{};\n    const { name: name, cuisines: cuisines, avgRating: avgRating, costForTwoMessage: costForTwoMessage } = restaurantInfo;\n    // ‚úÖ Optimized way to fetch item categories\n    const itemCategories = resInfo?.cards?.find((c)=>c.groupedCard)?.groupedCard?.cardGroupMap?.REGULAR?.cards.filter((c)=>c.card?.card?.[\"@type\"] === \"type.googleapis.com/swiggy.presentation.food.v2.ItemCategory\") || [];\n    return /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n        className: \"menu min-h-screen bg-gray-50 p-4 md:p-8\",\n        children: [\n            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                className: \"bg-white/80 backdrop-blur-md rounded-2xl shadow-lg p-6 mb-6 max-w-4xl mx-auto text-center\",\n                children: [\n                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"h1\", {\n                        className: \"text-3xl md:text-4xl font-extrabold text-gray-900 mb-2 truncate\",\n                        children: name\n                    }),\n                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"p\", {\n                        className: \"text-gray-600 text-sm md:text-base mb-4\",\n                        children: cuisines ? cuisines.join(\", \") : \"Cuisines not available\"\n                    }),\n                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                        className: \"flex flex-col sm:flex-row justify-center gap-4 items-center\",\n                        children: [\n                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"span\", {\n                                className: `px-3 py-1 rounded-full text-sm font-semibold text-white ${avgRating >= 4 ? \"bg-green-500\" : \"bg-yellow-500\"}`,\n                                children: [\n                                    \"\\u2B50 \",\n                                    avgRating || \"N/A\"\n                                ]\n                            }),\n                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                className: \"text-gray-700 font-medium\",\n                                children: costForTwoMessage\n                            })\n                        ]\n                    })\n                ]\n            }),\n            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                className: \"menu-list max-w-5xl mx-auto\",\n                children: [\n                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"h2\", {\n                        className: \"text-2xl md:text-3xl font-bold text-gray-900 mb-4 border-b-2 border-orange-400 pb-2\",\n                        children: \"Menu\"\n                    }),\n                    itemCategories.map((category, index)=>/*#__PURE__*/ (0, $ayMG0.jsx)((0, $7lrwW.default), {\n                            category: category,\n                            isOpen: openIndex === index,\n                            onToggle: ()=>{\n                                setOpenIndex(openIndex === index ? null : index); // ‚úÖ toggle one at a time\n                            }\n                        }, category.card.card.title))\n                ]\n            })\n        ]\n    });\n};\nvar $e3cee4b957dfd0d2$export$2e2bcd8739ae039 = $e3cee4b957dfd0d2$var$RestaurantMenu;\n\n});\nparcelRegister(\"b25rQ\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", () => $80841b78a6e67de2$export$2e2bcd8739ae039);\n\nvar $acw62 = parcelRequire(\"acw62\");\n\nvar $4eM2B = parcelRequire(\"4eM2B\");\nconst $80841b78a6e67de2$var$useRestaurantMenu = (resId)=>{\n    // Custom hook logic here\n    const [resInfo, setResInfo] = (0, $acw62.useState)(null);\n    //fetch the data from api\n    (0, $acw62.useEffect)(()=>{\n        fetchData();\n    }, []);\n    const fetchData = async ()=>{\n        try {\n            const data = await fetch((0, $4eM2B.MENU_URL) + resId + \"&isMenuUx4=true&submitAction=ENTER\");\n            const json = await data.json();\n            console.log(json);\n            setResInfo(json.data);\n        } catch (error) {\n            console.log(\"Failed to fetch the restaurant data:\", error);\n        }\n    };\n    return resInfo;\n};\nvar $80841b78a6e67de2$export$2e2bcd8739ae039 = $80841b78a6e67de2$var$useRestaurantMenu;\n\n});\n\nparcelRegister(\"7lrwW\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", () => $558fd983ecc14451$export$2e2bcd8739ae039);\n\nvar $ayMG0 = parcelRequire(\"ayMG0\");\n\nvar $efMe6 = parcelRequire(\"efMe6\");\nconst $558fd983ecc14451$var$RestaurantCategory = ({ category: category, isOpen: isOpen, onToggle: onToggle })=>{\n    return /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n        className: \"menu-category bg-white rounded-2xl shadow-lg border border-gray-100 mb-6    hover:shadow-2xl transition-all duration-300\",\n        children: [\n            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                className: \"flex justify-between items-center p-5 cursor-pointer rounded-t-2xl    bg-gradient-to-r from-orange-50 to-orange-100 hover:from-orange-100 hover:to-orange-200    transition-colors\",\n                onClick: onToggle,\n                children: [\n                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"h3\", {\n                        className: \"text-lg md:text-xl font-bold text-gray-800 tracking-wide\",\n                        children: [\n                            category.card.card.title,\n                            \" \",\n                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"span\", {\n                                className: \"text-gray-500 font-medium\",\n                                children: [\n                                    \"(\",\n                                    category.card.card.itemCards?.length || 0,\n                                    \")\"\n                                ]\n                            })\n                        ]\n                    }),\n                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                        className: `text-xl font-bold transform transition-transform duration-300 ${isOpen ? \"rotate-180 text-orange-600\" : \"text-gray-600\"}`,\n                        children: \"\\u25BC\"\n                    })\n                ]\n            }),\n            /*#__PURE__*/ (0, $ayMG0.jsx)((0, $efMe6.default), {\n                category: category,\n                isOpen: isOpen\n            })\n        ]\n    }, category.card.card.title);\n};\nvar $558fd983ecc14451$export$2e2bcd8739ae039 = $558fd983ecc14451$var$RestaurantCategory;\n\n});\nparcelRegister(\"efMe6\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", () => $a607e032043bffb2$export$2e2bcd8739ae039);\n\nvar $ayMG0 = parcelRequire(\"ayMG0\");\n\nvar $acw62 = parcelRequire(\"acw62\");\n\nvar $4eM2B = parcelRequire(\"4eM2B\");\n\nvar $jHTLJ = parcelRequire(\"jHTLJ\");\n\nvar $8Hjyi = parcelRequire(\"8Hjyi\");\n\nvar $7Wf6e = parcelRequire(\"7Wf6e\");\n\nvar $2B05P = parcelRequire(\"2B05P\");\n\nvar $d1byL = parcelRequire(\"d1byL\");\nconst $a607e032043bffb2$var$ItemList = ({ category: category, isOpen: isOpen })=>{\n    const dispatch = (0, $jHTLJ.useDispatch)();\n    const { coords: coords } = (0, $acw62.useContext)((0, $d1byL.default));\n    const [freshnessData, setFreshnessData] = (0, $acw62.useState)({});\n    const handleAddItem = (item)=>{\n        dispatch((0, $8Hjyi.addItem)(item.card?.info || item));\n    };\n    (0, $acw62.useEffect)(()=>{\n        async function fetchFreshness() {\n            const prepTime = Math.floor(Math.random() * 15) + 10;\n            const restaurantLat = 28.5355;\n            const restaurantLon = 77.3910;\n            let deliveryTime = 25;\n            if (coords.lat && coords.lon) {\n                const distance = (0, $2B05P.calculateDistance)(coords.lat, coords.lon, restaurantLat, restaurantLon);\n                const avgSpeed = 25; // km/h\n                deliveryTime = Math.ceil(distance / avgSpeed * 60);\n            }\n            const { freshnessScore: freshnessScore, temperature: temperature } = await (0, $7Wf6e.getPredictedFreshness)(prepTime, deliveryTime);\n            setFreshnessData({\n                freshnessScore: freshnessScore,\n                temperature: temperature,\n                deliveryTime: deliveryTime\n            });\n        }\n        fetchFreshness();\n    }, [\n        coords\n    ]);\n    // ‚úÖ Safe fallback for inconsistent data shape\n    const items = category?.card?.card?.itemCards || category?.card?.itemCards || category?.itemCards || [];\n    return /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n        className: `overflow-hidden transition-all duration-500 ease-in-out ${isOpen ? \"max-h-[1000px] opacity-100\" : \"max-h-0 opacity-0\"}`,\n        children: /*#__PURE__*/ (0, $ayMG0.jsx)(\"ul\", {\n            className: \"px-5 pb-5 grid grid-cols-1 gap-4\",\n            children: items.map((item, index)=>{\n                const { name: name, description: description, price: price, defaultPrice: defaultPrice, cloudinaryImageId: cloudinaryImageId, imageId: imageId } = item.card?.info || item;\n                const imgUrl = cloudinaryImageId || imageId ? (0, $4eM2B.CDN_URL) + (cloudinaryImageId || imageId) : null;\n                const freshness = freshnessData.freshnessScore ?? 85;\n                return /*#__PURE__*/ (0, $ayMG0.jsxs)(\"li\", {\n                    className: \"flex items-start justify-between gap-4 p-4 bg-white rounded-xl shadow-md    hover:shadow-xl hover:scale-[1.02] transition-all duration-300\",\n                    children: [\n                        /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                            className: \"flex flex-col flex-grow\",\n                            children: [\n                                /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                    className: \"flex justify-between items-center\",\n                                    children: [\n                                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                            className: \"font-semibold text-gray-900 text-base tracking-wide\",\n                                            children: name\n                                        }),\n                                        /*#__PURE__*/ (0, $ayMG0.jsxs)(\"span\", {\n                                            className: \"font-bold text-orange-600 text-lg\",\n                                            children: [\n                                                \"\\u20B9\",\n                                                price / 100 || defaultPrice / 100\n                                            ]\n                                        })\n                                    ]\n                                }),\n                                description && /*#__PURE__*/ (0, $ayMG0.jsx)(\"p\", {\n                                    className: \"text-gray-700 text-sm mt-2 leading-relaxed line-clamp-2\",\n                                    children: description\n                                }),\n                                /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                    className: \"mt-3 flex items-center gap-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                            className: \"text-sm font-semibold text-gray-700\",\n                                            children: \"\\uD83C\\uDF71 Freshness Score:\"\n                                        }),\n                                        /*#__PURE__*/ (0, $ayMG0.jsxs)(\"span\", {\n                                            className: `font-bold ${freshness > 80 ? \"text-green-600\" : freshness > 60 ? \"text-yellow-500\" : \"text-red-500\"}`,\n                                            children: [\n                                                freshness,\n                                                \"%\"\n                                            ]\n                                        })\n                                    ]\n                                }),\n                                /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                    className: \"h-2 mt-2 w-full bg-gray-200 rounded-full overflow-hidden\",\n                                    children: /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                        className: `h-full transition-all duration-700 ${freshness > 80 ? \"bg-green-500\" : freshness > 60 ? \"bg-yellow-400\" : \"bg-red-500\"}`,\n                                        style: {\n                                            width: `${freshness}%`\n                                        }\n                                    })\n                                })\n                            ]\n                        }),\n                        /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                            className: \"flex flex-col items-center gap-2 flex-shrink-0\",\n                            children: [\n                                imgUrl && /*#__PURE__*/ (0, $ayMG0.jsx)(\"img\", {\n                                    src: imgUrl,\n                                    alt: name,\n                                    className: \"w-20 h-20 object-cover rounded-lg shadow-lg\"\n                                }),\n                                /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                    className: \"flex items-center gap-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                            onClick: ()=>handleAddItem(item),\n                                            className: \"bg-green-500 text-white font-bold w-7 h-7 rounded-full shadow hover:bg-green-600\",\n                                            children: \"+\"\n                                        }),\n                                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                            className: \"bg-red-500 text-white font-bold w-7 h-7 rounded-full shadow hover:bg-red-600\",\n                                            children: \"-\"\n                                        })\n                                    ]\n                                })\n                            ]\n                        })\n                    ]\n                }, `${item.card?.info?.id || index}-${index}`);\n            })\n        })\n    });\n};\nvar $a607e032043bffb2$export$2e2bcd8739ae039 = $a607e032043bffb2$var$ItemList;\n\n});\nparcelRegister(\"7Wf6e\", function(module, exports) {\n\n$parcel$export(module.exports, \"getPredictedFreshness\", () => $5c79a99cb2b160f7$export$84900944d7f8642);\n// üì¶ src/utils/freshnessScore.js\n/**\r\n * üîπ Simulates realistic temperature (28‚Äì38¬∞C)\r\n */ async function $5c79a99cb2b160f7$export$c33706a4d13a7124() {\n    const temperature = 28 + Math.floor(Math.random() * 10);\n    console.log(`\\u{1F321}\\u{FE0F} Simulated Temperature: ${temperature}\\xb0C`);\n    return temperature;\n}\nfunction $5c79a99cb2b160f7$export$c98097cc8abd7785(prepTime, deliveryTime, temperature) {\n    let freshness = 100;\n    freshness -= prepTime * 0.5;\n    freshness -= deliveryTime * 0.8;\n    if (temperature > 30 && temperature <= 35) freshness -= 5;\n    else if (temperature > 35) freshness -= 10;\n    freshness = Math.max(0, Math.min(100, Math.round(freshness)));\n    return freshness;\n}\nasync function $5c79a99cb2b160f7$export$84900944d7f8642(prepTime, deliveryTime) {\n    const temperature = await $5c79a99cb2b160f7$export$c33706a4d13a7124();\n    const freshnessScore = $5c79a99cb2b160f7$export$c98097cc8abd7785(prepTime, deliveryTime, temperature);\n    return {\n        prepTime: prepTime,\n        deliveryTime: deliveryTime,\n        temperature: temperature,\n        freshnessScore: freshnessScore\n    };\n}\n\n});\n\n\n\n\n\n//# sourceMappingURL=RestaurantMenu.c5655c1e.js.map\n","//new Optimized Dynamic code is below\r\nimport { useState } from \"react\"; // ‚úÖ Import useState\r\nimport Shimmer from \"./Shimmer\";\r\nimport \"../../style.css\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport useRestaurantMenu from \"../utils/useRestaurantMenu\";\r\nimport RestaurantCategory from \"./RestaurantCategory\"; // ‚úÖ Import accordion category\r\n\r\nconst RestaurantMenu = () => {\r\n  const { resId } = useParams();\r\n  const resInfo = useRestaurantMenu(resId);\r\n\r\n  // ‚úÖ Track which category is open\r\n  const [openIndex, setOpenIndex] = useState(null);\r\n\r\n  if (resInfo === null) return <Shimmer />;\r\n\r\n  // ‚úÖ Optimized way to get restaurant info\r\n  const restaurantInfo =\r\n    resInfo?.cards.find((c) => c?.card?.card?.info)?.card?.card?.info || {};\r\n    \r\n  // const category=resInfo?.cards.find((c) => c?.card?.card?.info)?.card?.card?.info.filter((c) => c?.card?.card?.[\"@type\"]===\"type.googleapis.com/swiggy.presentation.food.v2.ItemCategory\")||{};\r\n\r\n  const { name, cuisines, avgRating, costForTwoMessage } = restaurantInfo;\r\n\r\n  // ‚úÖ Optimized way to fetch item categories\r\n  const itemCategories =\r\n    resInfo?.cards\r\n      ?.find((c) => c.groupedCard)\r\n      ?.groupedCard?.cardGroupMap?.REGULAR?.cards.filter(\r\n        (c) =>\r\n          c.card?.card?.[\"@type\"] ===\r\n          \"type.googleapis.com/swiggy.presentation.food.v2.ItemCategory\"\r\n      ) || [];\r\n\r\n  return (\r\n    <div className=\"menu min-h-screen bg-gray-50 p-4 md:p-8\">\r\n      {/* Restaurant Header */}\r\n      <div className=\"bg-white/80 backdrop-blur-md rounded-2xl shadow-lg p-6 mb-6 max-w-4xl mx-auto text-center\">\r\n        <h1 className=\"text-3xl md:text-4xl font-extrabold text-gray-900 mb-2 truncate\">\r\n          {name}\r\n        </h1>\r\n        <p className=\"text-gray-600 text-sm md:text-base mb-4\">\r\n          {cuisines ? cuisines.join(\", \") : \"Cuisines not available\"}\r\n        </p>\r\n        <div className=\"flex flex-col sm:flex-row justify-center gap-4 items-center\">\r\n          <span\r\n            className={`px-3 py-1 rounded-full text-sm font-semibold text-white ${\r\n              avgRating >= 4 ? \"bg-green-500\" : \"bg-yellow-500\"\r\n            }`}\r\n          >\r\n            ‚≠ê {avgRating || \"N/A\"}\r\n          </span>\r\n          <span className=\"text-gray-700 font-medium\">{costForTwoMessage}</span>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Menu Section */}\r\n      <div className=\"menu-list max-w-5xl mx-auto\">\r\n        <h2 className=\"text-2xl md:text-3xl font-bold text-gray-900 mb-4 border-b-2 border-orange-400 pb-2\">\r\n          Menu\r\n        </h2>\r\n\r\n        {/* ‚úÖ Use RestaurantCategory for each category (Accordion style) */}\r\n        {itemCategories.map((category, index) => (\r\n          <RestaurantCategory\r\n            key={category.card.card.title}\r\n            category={category}\r\n            isOpen={openIndex === index} // ‚úÖ controlled open state\r\n            onToggle={() => {\r\n              setOpenIndex(openIndex === index ? null : index); // ‚úÖ toggle one at a time\r\n            }}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RestaurantMenu;\r\n","import { useEffect,useState } from \"react\";\r\nimport { MENU_URL } from \"../utils/constants\";\r\n\r\nconst useRestaurantMenu=(resId)=>{\r\n    // Custom hook logic here\r\n    const [resInfo,setResInfo]=useState(null);\r\n    //fetch the data from api\r\n    useEffect(()=>{\r\n        fetchData();\r\n    },[]);\r\n\r\n    const fetchData=async()=>{\r\n       try{\r\n         const data=await fetch(MENU_URL+resId+\"&isMenuUx4=true&submitAction=ENTER\");        \r\n       \r\n       const json=await data.json();\r\n       console.log(json);\r\n         setResInfo(json.data);\r\n       }catch(error){\r\n        console.log(\"Failed to fetch the restaurant data:\", error);\r\n       }\r\n\r\n    }\r\n    return resInfo;\r\n}\r\nexport default useRestaurantMenu;","import ItemList from \"./ItemList\";\r\n\r\nconst RestaurantCategory = ({ category, isOpen, onToggle }) => {\r\n  return (\r\n    <div\r\n      key={category.card.card.title}\r\n      className=\"menu-category bg-white rounded-2xl shadow-lg border border-gray-100 mb-6 \r\n                 hover:shadow-2xl transition-all duration-300\"\r\n    >\r\n      {/* Accordion Header */}\r\n      <div\r\n        className=\"flex justify-between items-center p-5 cursor-pointer rounded-t-2xl \r\n                   bg-gradient-to-r from-orange-50 to-orange-100 hover:from-orange-100 hover:to-orange-200 \r\n                   transition-colors\"\r\n        onClick={onToggle} // ‚úÖ Use parent callback to control open state\r\n      >\r\n        <h3 className=\"text-lg md:text-xl font-bold text-gray-800 tracking-wide\">\r\n          {category.card.card.title}{\" \"}\r\n          <span className=\"text-gray-500 font-medium\">\r\n            ({category.card.card.itemCards?.length || 0})\r\n          </span>\r\n        </h3>\r\n\r\n        <span\r\n          className={`text-xl font-bold transform transition-transform duration-300 ${\r\n            isOpen ? \"rotate-180 text-orange-600\" : \"text-gray-600\"\r\n          }`}\r\n        >\r\n          ‚ñº\r\n        </span>\r\n      </div>\r\n\r\n      {/* Accordion Content */}\r\n      <ItemList category={category} isOpen={isOpen} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RestaurantCategory;\r\n","import { useState, useEffect, useContext } from \"react\";\r\nimport { CDN_URL } from \"../utils/constants\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { addItem } from \"../utils/cartSlice\";\r\nimport { getPredictedFreshness } from \"../utils/freshnessScore\";\r\nimport { calculateDistance } from \"../utils/distanceCalculator\";\r\nimport LocationContext from \"../utils/LocationContext\";\r\n\r\nconst ItemList = ({ category, isOpen }) => {\r\n  const dispatch = useDispatch();\r\n  const { coords } = useContext(LocationContext);\r\n  const [freshnessData, setFreshnessData] = useState({});\r\n\r\n  const handleAddItem = (item) => {\r\n    dispatch(addItem(item.card?.info || item));\r\n  };\r\n\r\n  useEffect(() => {\r\n    async function fetchFreshness() {\r\n      const prepTime = Math.floor(Math.random() * 15) + 10;\r\n      const restaurantLat = 28.5355;\r\n      const restaurantLon = 77.3910;\r\n\r\n      let deliveryTime = 25;\r\n      if (coords.lat && coords.lon) {\r\n        const distance = calculateDistance(\r\n          coords.lat,\r\n          coords.lon,\r\n          restaurantLat,\r\n          restaurantLon\r\n        );\r\n        const avgSpeed = 25; // km/h\r\n        deliveryTime = Math.ceil((distance / avgSpeed) * 60);\r\n      }\r\n\r\n      const { freshnessScore, temperature } = await getPredictedFreshness(\r\n        prepTime,\r\n        deliveryTime\r\n      );\r\n\r\n      setFreshnessData({ freshnessScore, temperature, deliveryTime });\r\n    }\r\n\r\n    fetchFreshness();\r\n  }, [coords]);\r\n\r\n  // ‚úÖ Safe fallback for inconsistent data shape\r\n  const items =\r\n    category?.card?.card?.itemCards ||\r\n    category?.card?.itemCards ||\r\n    category?.itemCards ||\r\n    [];\r\n\r\n  return (\r\n    <div\r\n      className={`overflow-hidden transition-all duration-500 ease-in-out ${\r\n        isOpen ? \"max-h-[1000px] opacity-100\" : \"max-h-0 opacity-0\"\r\n      }`}\r\n    >\r\n      <ul className=\"px-5 pb-5 grid grid-cols-1 gap-4\">\r\n        {items.map((item, index) => {\r\n          const {\r\n            name,\r\n            description,\r\n            price,\r\n            defaultPrice,\r\n            cloudinaryImageId,\r\n            imageId,\r\n          } = item.card?.info || item;\r\n\r\n          const imgUrl =\r\n            cloudinaryImageId || imageId\r\n              ? CDN_URL + (cloudinaryImageId || imageId)\r\n              : null;\r\n\r\n          const freshness = freshnessData.freshnessScore ?? 85;\r\n\r\n          return (\r\n            <li\r\n              key={`${item.card?.info?.id || index}-${index}`}\r\n              className=\"flex items-start justify-between gap-4 p-4 bg-white rounded-xl shadow-md \r\n                         hover:shadow-xl hover:scale-[1.02] transition-all duration-300\"\r\n            >\r\n              <div className=\"flex flex-col flex-grow\">\r\n                <div className=\"flex justify-between items-center\">\r\n                  <span className=\"font-semibold text-gray-900 text-base tracking-wide\">\r\n                    {name}\r\n                  </span>\r\n                  <span className=\"font-bold text-orange-600 text-lg\">\r\n                    ‚Çπ{price / 100 || defaultPrice / 100}\r\n                  </span>\r\n                </div>\r\n\r\n                {description && (\r\n                  <p className=\"text-gray-700 text-sm mt-2 leading-relaxed line-clamp-2\">\r\n                    {description}\r\n                  </p>\r\n                )}\r\n\r\n                {/* üß† Freshness Indicator */}\r\n                <div className=\"mt-3 flex items-center gap-2\">\r\n                  <span className=\"text-sm font-semibold text-gray-700\">\r\n                    üç± Freshness Score:\r\n                  </span>\r\n                  <span\r\n                    className={`font-bold ${\r\n                      freshness > 80\r\n                        ? \"text-green-600\"\r\n                        : freshness > 60\r\n                        ? \"text-yellow-500\"\r\n                        : \"text-red-500\"\r\n                    }`}\r\n                  >\r\n                    {freshness}%\r\n                  </span>\r\n                </div>\r\n\r\n                <div className=\"h-2 mt-2 w-full bg-gray-200 rounded-full overflow-hidden\">\r\n                  <div\r\n                    className={`h-full transition-all duration-700 ${\r\n                      freshness > 80\r\n                        ? \"bg-green-500\"\r\n                        : freshness > 60\r\n                        ? \"bg-yellow-400\"\r\n                        : \"bg-red-500\"\r\n                    }`}\r\n                    style={{ width: `${freshness}%` }}\r\n                  ></div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex flex-col items-center gap-2 flex-shrink-0\">\r\n                {imgUrl && (\r\n                  <img\r\n                    src={imgUrl}\r\n                    alt={name}\r\n                    className=\"w-20 h-20 object-cover rounded-lg shadow-lg\"\r\n                  />\r\n                )}\r\n\r\n                {/* + | - buttons */}\r\n                <div className=\"flex items-center gap-2\">\r\n                  <button\r\n                    onClick={() => handleAddItem(item)}\r\n                    className=\"bg-green-500 text-white font-bold w-7 h-7 rounded-full shadow hover:bg-green-600\"\r\n                  >\r\n                    +\r\n                  </button>\r\n                  <button className=\"bg-red-500 text-white font-bold w-7 h-7 rounded-full shadow hover:bg-red-600\">\r\n                    -\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </li>\r\n          );\r\n        })}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ItemList;\r\n","// üì¶ src/utils/freshnessScore.js\r\n\r\n/**\r\n * üîπ Simulates realistic temperature (28‚Äì38¬∞C)\r\n */\r\nexport async function getSimulatedTemperature() {\r\n  const temperature = 28 + Math.floor(Math.random() * 10);\r\n  console.log(`üå°Ô∏è Simulated Temperature: ${temperature}¬∞C`);\r\n  return temperature;\r\n}\r\n\r\n/**\r\n * üîπ Calculates AI-based freshness score (0‚Äì100)\r\n */\r\nexport function calculateFreshnessScore(prepTime, deliveryTime, temperature) {\r\n  let freshness = 100;\r\n\r\n  freshness -= prepTime * 0.5;\r\n  freshness -= deliveryTime * 0.8;\r\n\r\n  if (temperature > 30 && temperature <= 35) freshness -= 5;\r\n  else if (temperature > 35) freshness -= 10;\r\n\r\n  freshness = Math.max(0, Math.min(100, Math.round(freshness)));\r\n\r\n  return freshness;\r\n}\r\n\r\n/**\r\n * üîπ Combines temperature + freshness formula\r\n */\r\nexport async function getPredictedFreshness(prepTime, deliveryTime) {\r\n  const temperature = await getSimulatedTemperature();\r\n  const freshnessScore = calculateFreshnessScore(prepTime, deliveryTime, temperature);\r\n\r\n  return { prepTime, deliveryTime, temperature, freshnessScore };\r\n}\r\n"],"names":["$parcel$export","e","n","v","s","Object","defineProperty","get","set","enumerable","configurable","parcelRequire","$parcel$global","globalThis","parcelRegister","register","module","exports","value","$e3cee4b957dfd0d2$export$2e2bcd8739ae039","$ayMG0","$acw62","$YVclQ","$aphAM","$b25rQ","$7lrwW","resId","useParams","resInfo","default","openIndex","setOpenIndex","useState","jsx","name","cuisines","avgRating","costForTwoMessage","cards","find","c","card","info","itemCategories","groupedCard","cardGroupMap","REGULAR","filter","jsxs","className","children","join","map","category","index","isOpen","onToggle","title","$80841b78a6e67de2$export$2e2bcd8739ae039","$4eM2B","setResInfo","useEffect","fetchData","data","fetch","MENU_URL","json","console","log","error","$558fd983ecc14451$export$2e2bcd8739ae039","$efMe6","onClick","itemCards","length","$a607e032043bffb2$export$2e2bcd8739ae039","$jHTLJ","$8Hjyi","$7Wf6e","$2B05P","$d1byL","dispatch","useDispatch","coords","useContext","freshnessData","setFreshnessData","fetchFreshness","prepTime","Math","floor","random","deliveryTime","lat","lon","ceil","distance","calculateDistance","freshnessScore","temperature","getPredictedFreshness","items","item","description","price","defaultPrice","cloudinaryImageId","imageId","imgUrl","CDN_URL","freshness","style","width","src","alt","addItem","id","$5c79a99cb2b160f7$export$c33706a4d13a7124","$5c79a99cb2b160f7$export$84900944d7f8642","max","min","round"],"version":3,"file":"RestaurantMenu.c5655c1e.js.map"}